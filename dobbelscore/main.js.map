{"version":3,"sources":["./src/app/game-board/game-board.component.ts","./src/app/game-board/game-board.component.html","./src/environments/environment.ts","./src/app/interfaces.ts","./src/app/functions.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/storage.service.ts","./src/app/roll-dice/roll-dice.component.ts","./src/app/roll-dice/roll-dice.component.html","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter, ViewChild, OnChanges, SimpleChanges, ChangeDetectionStrategy } from '@angular/core';\r\nimport {List, CalculationType, Game, GamePlayerColumn, Player, ColumnScore, DiceSettings, DicesSameValues } from '../interfaces';\r\nimport { faHome, faDice, faList, faUndo } from '@fortawesome/free-solid-svg-icons';\r\nimport { LocalStorageService } from './../storage.service';\r\nimport * as GlobalFunctions from './../functions';\r\n\r\n@Component({\r\n\tselector: 'app-game-board',\r\n\ttemplateUrl: './game-board.component.html',\r\n\tstyleUrls: [ './game-board.component.scss' ]\r\n})\r\n\r\nexport class GameBoardComponent implements OnInit, OnChanges {\r\n\r\n\tconstructor(private storage: LocalStorageService) {}\r\n\r\n\tngOnChanges(changes: SimpleChanges): void {\r\n\t\tif(changes.diceScore && this.game) {\r\n\t\t\tthis.diceScore = changes.diceScore.currentValue;\r\n\t\t\tthis.calculateAll();\r\n\t\t}\r\n\t}\r\n\r\n\t@ViewChild('popupEndGame') popupEndGame: HTMLElement;\r\n\t\r\n\t@Input() diceScore: DiceSettings;\r\n\r\n\t@Output() restartGame = new EventEmitter<boolean>();\r\n\t@Output() showDiceBoard = new EventEmitter<boolean>();\r\n\t@Output() resetDiceBoard = new EventEmitter<boolean>();\r\n\t@Output() undoDiceBoard = new EventEmitter<boolean>();\r\n\t\r\n\tgame: Game;\r\n\tcalculationType = CalculationType;\r\n\ttotalRounds: number;\r\n\tshowUndo: boolean;\r\n\r\n\ttranslations: JSON;\r\n\r\n\tbonus = 0;\r\n\tcurrentRound = 0;\r\n\tinitialCalculateTimeOut = 700;\r\n\tfilledItemsInColTemp = 0;\r\n\r\n\tisInitialCalc = true;\r\n\tisShowDiceBoard = false;\r\n\tshowSuggestions = false;\r\n\r\n\tfaHome = faHome;\r\n\tfaDice = faDice;\r\n\tfaList = faList;\r\n\tfaUndo = faUndo;\r\n\r\n\tmakeArray = GlobalFunctions.makeArray;\r\n\r\n\tsetUndoDiceBoard() {\r\n\t\tthis.game = this.storage.loadGame('gamePrevious');\r\n\t\tthis.diceScore = this.storage.loadDiceSettings('diceSettingsPrevious');\r\n\t\tthis.undoDiceBoard.emit(!this.undoDiceBoard);\r\n\t\tthis.storage.saveDiceSettings(this.diceScore);\r\n\t\tthis.showUndo = false;\r\n\t}\r\n\r\n\tasync fillColField(col: ColumnScore, playerIndex: number, playerScore: number) {\r\n\t\t\r\n\t\tthis.storage.saveGame(this.game, 'gamePrevious');\r\n\t\tthis.storage.saveDiceSettings(this.diceScore, 'diceSettingsPrevious');\r\n\t\tthis.showUndo = true;\r\n\t\tcol.value = playerScore\r\n\t\t\r\n\t\tthis.saveAndCalculateFilledCol(playerIndex);\r\n\t\tthis.resetSuggestions();\r\n\t}\r\n\r\n\tasync saveAndCalculateFilledCol(playerIndex: number): Promise<void> {\r\n\t\tthis.storage.saveGame(this.game);\r\n\t\tthis.calculateAll();\r\n\t\tthis.hidePopUp(); \r\n\t\tthis.showSuggestions = false;\r\n\t\tthis.resetDiceBoard.emit(!this.resetDiceBoard);\r\n\t\tawait this.checkGameFinished();\r\n\t\tthis.setNextPlayerIndex(playerIndex);\r\n\t}\r\n\r\n\tasync checkGameFinished() {\r\n\t\tlet round = 0;\r\n\t\tlet totalRounds = 0;\r\n\t\tthis.game.gameList.listParts.forEach((part) => {\r\n\t\t\ttotalRounds += part.listItems.length * this.game.players.length * part.listItems[0].playerscores[0].columns.length;\r\n\t\t})\r\n\t\tthis.game.players.forEach((player) =>{\r\n\t\t\tround += player.currentRound;\r\n\t\t});\r\n\t\tif (round == totalRounds) {\r\n\t\t\tdocument.getElementById('end-game-popup').className = 'popup';\r\n\t\t\tdocument.getElementById('overLayer').style.display = 'block';\r\n\t\t\tthis.showUndo = false;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tshowPopupEndGame(isPreview?: boolean): void {\r\n\t\tdocument.getElementById('end-game-popup').className = 'popup';\r\n\t\tdocument.getElementById('overLayer').style.display = 'block';\r\n\r\n\t\tif (isPreview) {\r\n\t\t\tdocument.getElementById('btn-end-game').style.display = 'none';\r\n\t\t\tdocument.getElementById('title-end-game').innerHTML = 'Tussenstand';\r\n\t\t}\r\n\t}\r\n\r\n\tresetScore(col: ColumnScore): void {\r\n\r\n\t\tcol.value = null;\r\n\r\n\t\tthis.calculateAll();\r\n\t\tthis.storage.saveGame(this.game);\r\n\t\tthis.hidePopUp();\r\n\t}\r\n\r\n\tcalculateAll(): void {\r\n\r\n\t\t// loop through players of game\r\n\t\tfor (let playerIndex = 0; playerIndex < this.game.players.length; playerIndex++) {\r\n\t\t\tthis.game.players[playerIndex].currentRound = 0;\r\n\r\n\t\t\t// loop through lists of player\r\n\t\t\tfor  (let colIndex = 0; colIndex < this.game.numberOfGameLists; colIndex++) {\r\n\t\t\t\tlet partIndex = 0;\r\n\t\t\t\tthis.totalRounds = 0;\r\n\t\r\n\t\t\t\t// loop through parts of list\r\n\t\t\t\tthis.game.gameList.listParts.forEach((part) => {\r\n\r\n\t\t\t\t\t// set totalrounds  -- TODO this is calculated way to often.\r\n\t\t\t\t\tthis.totalRounds += part.listItems.length;\r\n\t\r\n\t\t\t\t\tconst idName = 'list-field-' + playerIndex + '-' + partIndex + '-' + colIndex;\r\n\t\t\t\t\tconst idCalculateCols: NodeListOf<HTMLInputElement> = document.querySelectorAll('[id^=\"' + idName + '\"][id$=\"-value\"]');\r\n\t\t\t\t\tconst idColstotal: NodeListOf<HTMLInputElement> = document.querySelectorAll('[id^=\"list-field-' + playerIndex + '\"][id$=\"' + colIndex + '-total\"]');\r\n\t\r\n\t\t\t\t\t// calculate all items in col of part\r\n\t\t\t\t\tthis.calculateCol(idCalculateCols, idColstotal, idName, colIndex, partIndex, playerIndex);\r\n\t\r\n\t\t\t\t\tpartIndex++;\r\n\t\t\t\t});\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.diceScore && !this.isInitialCalc) {\r\n\t\t\tthis.showSuggestions = true;\r\n\t\t}\r\n\r\n\t\t// Game is initially calculated\r\n\t\tthis.isInitialCalc = false;\r\n\r\n\t\tthis.checkGameFinished();\r\n\t}\r\n\r\n\tcalculateCol(idCols: NodeListOf<HTMLInputElement>, idColstotal: NodeListOf<HTMLInputElement>, idBase: string, colIndex: number, partIndex: number, playerIndex: number): void {\r\n\r\n\t\tconst total = this.calculateTotalofColItems(playerIndex, colIndex, partIndex);\r\n\r\n\r\n\t\t// check filled items of column\r\n\t\tconst filledItemsInCol = this.filledItemsInColTemp;\r\n\r\n\t\tthis.filledItemsInColTemp = 0;\r\n\t\r\n\t\tconst elTotal = (<HTMLInputElement>document.getElementById(idBase + '-total'));\r\n\t\t\r\n\t\tif (document.getElementById(idBase + '-bonus')) {\r\n\t\t\t\r\n\t\t\tconst bonusTarget = this.game.gameList.listParts[partIndex].bonusTarget;\r\n\t\t\tconst bonusValue = this.game.gameList.listParts[partIndex].bonusValue;\r\n\r\n\r\n\t\t\tlet remainingPointsForBonus = (bonusTarget - total) * -1;\r\n\r\n\t\t\tconst totalSignClass = remainingPointsForBonus < 0  ? 'error' : remainingPointsForBonus > 0 ? 'success' : 'info';\r\n\r\n\t\t\tconst elSubtotalSign = (<HTMLInputElement>document.getElementById(idBase + '-subtotal-sign'));\r\n\t\t\tconst elSubTotal = (<HTMLInputElement>document.getElementById(idBase + '-subtotal'));\r\n\t\t\tconst elBonus = (<HTMLInputElement>document.getElementById(idBase + '-bonus'));\r\n\r\n\t\t\telSubtotalSign.className = 'sign ' + totalSignClass;\r\n\t\t\telBonus.className = 'info';\r\n\r\n\t\t\tif (filledItemsInCol > 0 && filledItemsInCol < idCols.length ) {\r\n\t\t\t\telSubtotalSign.className = 'total sign ' + totalSignClass;\r\n\t\t\t\telSubtotalSign.innerHTML = remainingPointsForBonus.toString(); \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (filledItemsInCol == idCols.length) {\r\n\t\t\t\tif (total < bonusTarget) {\r\n\t\t\t\telBonus.className = 'error';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\telSubTotal.value = total.toString();\r\n\t\t\telBonus.value = '0';\r\n\t\t\telTotal.value = total.toString();\r\n\r\n\t\t\tif (total > bonusTarget - 1) {\r\n\t\t\t\t\telBonus.value = bonusValue.toString();\r\n\t\t\t\t\telBonus.className = 'success';\r\n\t\t\t\t\telTotal.value = (total + bonusValue).toString();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\telTotal.value = total.toString();\r\n\t\t}\r\n\r\n\t\t// total general (sum of all parts)\r\n\t\tlet totalGeneral = 0;\r\n\t\tidColstotal.forEach((elementGeneral: HTMLInputElement) => {\r\n\t\t\ttotalGeneral += elementGeneral.value ? +elementGeneral.value : 0;\r\n\t\t});\r\n\r\n\t\t(<HTMLInputElement>document.getElementById('list-field-' + playerIndex + '-' + colIndex + '-totalgeneral'))\r\n\t\t\t.value = totalGeneral.toString();\r\n\t}\r\n\r\n\tcalculateTotalofColItems(playerIndex: number, colIndex: number, partIndex: number): number {\r\n\t\tlet total = 0;    \r\n\t\tthis.game.gameList.listParts[partIndex].listItems.forEach(async (item, itemIndex) => {\r\n\r\n\t\t\tconst playerItemScore = item.playerscores[playerIndex].columns[colIndex]\r\n\t\t\tconst score = playerItemScore.value;\r\n\t\t\ttotal += score;\r\n\t\t\t\r\n\t\t\tif (score !== null) {\r\n\t\t\t\tthis.game.players[playerIndex].currentRound++;\r\n\t\t\t\tthis.filledItemsInColTemp++;\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// calculate suggestions for thrown dices\r\n\t\t\t\tif (this.diceScore) {\r\n\t\t\t\t\tplayerItemScore.suggestionScore = this.checkDiceScores(partIndex, itemIndex);\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\t\r\n\t\t});\r\n\t\treturn total;\r\n\t}\r\n\r\n\tcheckDiceScores(partIndex: number, itemIndex: number): number {\r\n\r\n\t\tlet score = 0;\r\n\t\tlet selectedDices =  [...this.diceScore.thrownDices];\r\n\t\tconst holdDices = [...this.diceScore.holdDices];\r\n\r\n\t\tholdDices.forEach((dice, index) => {\r\n\t\t\tif (dice) {\r\n\t\t\t\tselectedDices[index] = dice;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst item = this.game.gameList.listParts[partIndex].listItems[itemIndex];\r\n\t\tconst itemValidation = item.validation;\r\n\r\n\t\tswitch(item.calculationType) {\r\n\t\t\tcase 1 : \r\n\t\t\t\tconst numberOfDiceValues = selectedDices.filter(val => val == item.value).length;\r\n\t\t\t\tscore = numberOfDiceValues * item.value;\r\n\t\t\t\treturn score;\r\n\t\t\tcase 2 :\r\n\t\t\t\tif (itemValidation) {\r\n\r\n\t\t\t\t\tif (itemValidation.possibleCombinations) {\r\n\t\t\t\t\t\tselectedDices = selectedDices.sort((a,b) => {\r\n\t\t\t\t\t\t\treturn a > b ? 1 : a < b ? -1 : 0;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tselectedDices = selectedDices.filter((c, index) => {\r\n\t\t\t\t\t\t\treturn selectedDices.indexOf(c) === index;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tlet dicesString = selectedDices.toString();\r\n\t\t\t\t\t\titemValidation.possibleCombinations.forEach((diceValues) => {\r\n\t\t\t\t\t\t\tif (dicesString.includes(diceValues.toString())) {\r\n\t\t\t\t\t\t\t\tscore = item.fixedPoints[0];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (itemValidation.numberOfSameDices) {\r\n\t\t\t\t\t\tscore = GlobalFunctions.scoreSameValues(selectedDices, itemValidation, item, item.fixedPoints);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn score;\r\n\r\n\t\t\tdefault :\r\n\t\t\t\treturn score;\r\n\t\t}\r\n\t}\r\n\r\n\tshowSuggestion(value: number): boolean {\r\n\t\treturn value == null && this.showDiceBoard ? true : false;\r\n\t}\r\n\r\n\tresetSuggestions() {\r\n\t\tthis.game.gameList.listParts.forEach((part) => {\r\n\t\t\tpart.listItems.forEach((item) => {\r\n\t\t\t\titem.playerscores.forEach((playerScore) => {\r\n\t\t\t\t\tplayerScore.columns.forEach((col) => {\r\n\t\t\t\t\t\tcol.suggestionScore = 0;\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tshowResetItem(value: number): boolean {\r\n\t\treturn value == null ? false : true;\r\n\t}\r\n\r\n\tsetPopupRowTotal(playerIndex: number, colIndex: number): string {\r\n\t\treturn (<HTMLInputElement>document.getElementById('list-field-' + playerIndex + '-' + colIndex + '-totalgeneral')).value;\r\n\t}\r\n\r\n\tsetTotalofCols(playerIndex: number): string {\r\n\t\tlet value = 0;\r\n\t\tconst idTotalGeneral: NodeListOf<HTMLInputElement> = document.querySelectorAll('[id$=\"' + playerIndex + '-totalgeneral-end\"]');\r\n\t\tidTotalGeneral.forEach(item => {\r\n\t\t\tvalue += +item.value;\r\n\t\t})\r\n\t\treturn value.toString();\r\n\t}\r\n\r\n\tsetNextPlayerIndex(index) {\r\n\t\tdocument.getElementById('overLayertrans').style.display = 'block';\r\n\t\tsetTimeout(()=> {\r\n\t\t\tconst nextIndex = index < (this.game.players.length - 1) ? index + 1 : 0;\r\n\t\t\tthis.setPlayer(nextIndex);\r\n\t\t\tdocument.getElementById('overLayertrans').style.display = 'none';\r\n\t\t}, 700);\r\n\t}\r\n\r\n\tsetPlayer(index: number): void {\r\n\t\tthis.game.selectedPlayerIndex = index;\r\n\t}\r\n\r\n\ttoggleSuggestions(hide?:string): void {\r\n\t\tvar items = document.querySelectorAll('[class^=\"suggestion-panel\"]');\r\n\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\tif (hide) {\r\n\t\t\t\titems[i].innerHTML = '';\r\n\t\t\t\titems[i].className = 'suggestion-panel hide';\r\n\t\t\t} else {\r\n\t\t\t\titems[i].className.replace(' hide', ' ');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thidePopUp(): void {\r\n\t\tvar items = document.getElementsByClassName('popup');\r\n\r\n\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\titems[i].className = 'popup hide';\r\n\t\t\tdocument.getElementById('overLayer').style.display = 'none';\r\n\t\t}\r\n\t}\r\n\r\n\tcheckToggleOptions(popup: HTMLElement): void {\r\n\t\tif (!this.isShowDiceBoard) {\r\n\t\t\tthis.toggleOptions(popup);\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleOptions(popup: HTMLElement): void {\r\n\t\tthis.hidePopUp();\r\n\r\n\t\tif (popup.className == 'popup hide') {\r\n\t\t\tpopup.className = 'popup';\r\n\t\t\tdocument.getElementById('overLayer').style.display = 'block';\r\n\t\t\t(<HTMLElement>document.getElementById('overLayer')).className = 'overLayer';\r\n\t\t} else {\r\n\t\t\tpopup.className = 'popup hide';\r\n\t\t\t\r\n\t\t\tdocument.getElementById('overLayer').style.display = 'none';\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tsaveGame() {\r\n\t\tconst date = new Date(this.game.dateTime).toString();\r\n\t\tconst type = this.game.gameList.name;\r\n\t\tlet names = '';\r\n\t\tthis.game.players.forEach((player, index) => {\r\n\t\t\tnames += index < this.game.players.length -1 ? player.name + ', ' : player.name;\r\n\t\t});\r\n\t\tconst fileName = 'saved-game_' + date + '_' + type + '_' + names;\r\n\t\tthis.storage.saveGame(this.game, fileName);\r\n\t}\r\n\r\n\tstopSaveGame(): void {\r\n\t\tthis.saveGame();\r\n\t\tthis.storage.deleteGame();\r\n\t\tthis.storage.deleteGame('gamePrevious')\r\n\t\tthis.storage.deleteDiceSettings('diceSettingsPrevious');\r\n\t\tthis.hidePopUp();\r\n\t\tthis.restartGame.emit(true);\r\n\t\tthis.game = null;\r\n\t\tthis.showUndo = false;\r\n\t}\r\n\r\n\tstopGame(popup: HTMLElement): void {\r\n\t\tpopup.className = 'popup';\r\n\t\tdocument.getElementById('overLayer').style.display = 'block';\r\n\t\t(<HTMLElement>document.getElementById('overLayer')).className = 'overLayer';\r\n\t}\r\n\r\n\ttoggleDiceBoard() {\r\n\t\tthis.isShowDiceBoard = !this.isShowDiceBoard;\r\n\t\tthis.showDiceBoard.emit(this.isShowDiceBoard);\r\n\t\tthis.game.showDiceBoard = this.isShowDiceBoard;\r\n\t\tthis.storage.saveGame(this.game);\r\n\t}\r\n\r\n\tgenerateGame(): void {\r\n\t\tthis.game = {\r\n\t\t\tdateTime: new Date(),\r\n\t\t\tselectedPlayerIndex: 0,\r\n\t\t\tplayers: this.storage.loadPlayers(),\r\n\t\t\tgameList: this.storage.loadGameList(),\r\n\t\t\tnumberOfGameLists: this.storage.loadNumberOfLists(),\r\n\t\t};\r\n\t\tthis.game.gameList.listParts.forEach((part) => {\r\n\t\t\tpart.listItems.forEach((item) => {\r\n\t\t\t\titem.playerscores = [];\r\n\t\t\t\tconst players = this.game.players;\r\n\t\t\t\tplayers.forEach((player) => {\r\n\t\t\t\t\tlet col = 1;\r\n\t\t\t\t\tlet colScores: ColumnScore[] = [];\r\n\t\t\t\t\tplayer.currentRound = 0;\r\n\t\t\t\t\twhile (col <= this.game.numberOfGameLists) {\r\n\t\t\t\t\t\tconst colScore: ColumnScore = {\r\n\t\t\t\t\t\t\tcolumn: col,\r\n\t\t\t\t\t\t\tvalue: null\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tcolScores.push(colScore);\r\n\t\t\t\t\t\tcol++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst playerscore: GamePlayerColumn = {\r\n\t\t\t\t\t\tplayer: player,\r\n\t\t\t\t\t\tcolumns: colScores\r\n\t\t\t\t\t};\r\n\t\t\t\t\titem.playerscores.push(playerscore);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.storage.saveGame(this.game);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.calculateAll();\r\n\t\t}, this.initialCalculateTimeOut);\r\n\t}\r\n\r\n\tstartGame() {\r\n\t\tthis.isShowDiceBoard = this.game.showDiceBoard || false;\r\n\t\tthis.showDiceBoard.emit(this.game.showDiceBoard);\r\n\t\tsetTimeout(() => {\r\n\t\t   this.calculateAll();\r\n\t\t}, this.initialCalculateTimeOut);\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.game = this.storage.loadGame();\r\n\t\tthis.game ? this.startGame() : this.generateGame();\r\n\r\n\t\t// translations\r\n\t\tthis.translations = this.storage.loadSelectedLanguage('nl');\r\n\r\n\t\t//undo\r\n\t\tif (localStorage.getItem(\"gamePrevious\") !== null) {\r\n\t\t\tthis.showUndo = true;\r\n\t\t  }\r\n\t}\r\n}\r\n","<div class=\"board-panel show\" [ngClass]=\"{'show' : !isInitialCalc && game}\">\r\n\r\n    <div id=\"overLayer\" class=\"overLayer hide\" (click)=\"hidePopUp()\"></div>\r\n    <div id=\"overLayertrans\" class=\"overLayer transparent hide\"></div>\r\n\r\n    <div class=\"header\">\r\n        <h2>{{game.gameList.name}}</h2>\r\n        <button class=\"btn btn-diceboard\" [ngClass]=\"{'active' : this.isShowDiceBoard}\" (click)=\"toggleDiceBoard()\">\r\n            <fa-icon [icon]=\"faDice\"></fa-icon>\r\n        </button>\r\n        <button class=\"btn btn-new-game\" (click)=\"stopGame(popupHome)\">\r\n            <fa-icon [icon]=\"faHome\"></fa-icon> Home\r\n        </button>    \r\n    </div>\r\n\r\n    <div #popupHome class=\"popup hide\">\r\n        <h4>Stoppen</h4>\r\n        <div class=\"row no-border\">Weet je zeker dat je wilt stoppen?</div>\r\n        <div class=\"row action-buttons\">\r\n            <button class=\"btn btn-primary\" (click)=\"stopSaveGame()\">Ja</button>\r\n            <button class=\"btn btn-secondary\" (click)=\"hidePopUp()\">Annuleren</button>\r\n        </div>\r\n    </div>\r\n\r\n    <!--players panel-->\r\n    <div class=\"game-progress\" #gameProgressPanel>\r\n        <div class=\"player-switch-panel\">\r\n            <span [style]=\"'border-top:solid 3px ' + player.color\" [ngClass]=\"{'active': selectPlayerIndex === this.game?.selectedPlayerIndex}\" *ngFor=\"let player of game.players; let selectPlayerIndex = index\"  (click)=\"setPlayer(selectPlayerIndex)\">\r\n                <div> {{player.name}}</div>\r\n            </span>    \r\n        </div>\r\n    </div>\r\n\r\n    <!-- Generate players-->\r\n    <div class=\"player-panel\" [ngClass]=\"{'show-panel' : playerIndex == this.game?.selectedPlayerIndex}\" *ngFor=\"let player of game.players; let playerIndex = index\">\r\n        <div class=\"round-info\" >\r\n        \r\n            <fa-icon style=\"font-size:14px;margin-right:10px;\" [icon]=\"faUndo\" *ngIf=\"showUndo && !showSuggestions\" (click)=\"setUndoDiceBoard()\"></fa-icon>\r\n            <strong>{{this.game.players[playerIndex].currentRound}}</strong> / {{totalRounds * game.numberOfGameLists}}\r\n        </div>    \r\n\r\n        <!-- Generate parts-->\r\n        <div *ngFor=\"let part of game.gameList.listParts; let partIndex = index\" class=\"part\">\r\n            <div class=\"row part\">\r\n                <div class=\"col description part\">\r\n                    {{part.name}}\r\n                </div>\r\n            </div>\r\n            <div class=\"row row-item\" *ngFor=\"let item of part.listItems;  let itemIndex = index\">\r\n        \r\n                <div class=\"col description\">\r\n                    {{item.name}} \r\n                </div>\r\n                    \r\n                <!-- Generate Columns-->\r\n                <div id=\"list-field-{{playerIndex}}-{{partIndex}}-{{colIndex}}-{{itemIndex}}\" \r\n                    [ngClass]=\"{'striped' : col.value == 0}\"\r\n                    *ngFor=\"let col of item.playerscores[playerIndex].columns; let colIndex = index \" class=\"col col-value\">\r\n                    <input\r\n                        id=\"list-field-{{playerIndex}}-{{partIndex}}-{{colIndex}}-{{itemIndex}}-value\" \r\n                        [ngModel]=\"item.playerscores[playerIndex].columns[colIndex].value\" \r\n                        readonly=\"true\" type=\"text\" [class]=\"col.value > 0 ? item.cssClasses : ''\"\r\n                        [ngClass]=\"{'filled' : col.value || col.value == 0, 'striped' : col.value == 0}\"\r\n                        (click)=\"checkToggleOptions(popupId)\" />\r\n\r\n                    <span *ngIf=\"col.value == null && isShowDiceBoard\" class=\"suggestion-panel\" \r\n                        [ngClass]=\"{'hide' : !showSuggestions, 'accent' : col.suggestionScore, 'striped' : col.suggestionScore == 0}\"\r\n                        (click)=\"fillColField(col, playerIndex, col.suggestionScore)\">\r\n                        {{col.suggestionScore == 0 ? '' : col.suggestionScore }}\r\n                    </span>\r\n\r\n                    <div #popupId class=\"popup hide\">\r\n                        <h4>{{item.name}}</h4>\r\n                        <div *ngIf=\"item.info\" class=\"info\" [innerHtml]=\"item.info\"></div>\r\n\r\n                        <!-- Number of dices-->\r\n                        <div *ngIf=\"item.calculationType == calculationType.numberOfEyes\">\r\n                            <div *ngFor=\"let in of makeArray(game.gameList.numberOfDices); let diceIndex = index\"\r\n                            class=\"dice-select-item\" [ngClass]=\"{'active' : col.value == ((diceIndex + 1) * item.value), 'striped' : (item.value * (diceIndex + 1)) == 0}\"\r\n                            (click)=\"fillColField(col, playerIndex, item.value * (diceIndex + 1))\">\r\n                                {{item.value * (diceIndex + 1)}}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Fixed Poinst-->\r\n                        <div *ngIf=\"item.calculationType == calculationType.fixedNumber\">\r\n                            <div *ngFor=\"let score of item.fixedPoints; let diceIndex = index\"\r\n                                class=\"dice-select-item\" [ngClass]=\"{'active' : col.value == score, 'striped' : score == 0}\"\r\n                                (click)=\"fillColField(col, playerIndex, score )\">\r\n                                {{score}}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- no score item-->\r\n                        <div class=\"dice-select-item striped\" style=\"margin-top:20px;\" [ngClass]=\"{'active' : col.value == 0}\"\r\n                            (click)=\"fillColField(col, playerIndex, 0)\" >\r\n                            0\r\n                        </div>\r\n                        <div class=\"dice-select-item\" style=\"margin-top:20px;width:180px;\" [ngClass]=\"{'hide' : !showResetItem(col.value)}\" \r\n                            (click)=\"resetScore(col)\">Verwijder score: <strong>{{col.value}}</strong>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>  \r\n            </div>\r\n            <div *ngIf=\"part.hasBonusPoints\">\r\n                <div class=\"row sub-total\">\r\n                    <div class=\"col description total sub-total\">\r\n                        Sub Totaal\r\n                    </div>\r\n                    <div *ngFor=\"let in of makeArray(game.numberOfGameLists); let colIndex = index\" class=\"col col-value\">\r\n                        <input readonly=\"true\" id=\"list-field-{{playerIndex}}-{{partIndex}}-{{colIndex}}-subtotal\" value=\"0\">\r\n                    </div>  \r\n                </div>\r\n                <div class=\"row bonus\">\r\n                    <div class=\"col description\">\r\n                        Bonus <div class=\"remarks\">Vanaf {{part.bonusTarget}} punten</div>\r\n                    </div>\r\n                    <div *ngFor=\"let in of makeArray(game.numberOfGameLists); let colIndex = index \" class=\"col col-value\">\r\n                        <span id=\"list-field-{{playerIndex}}-{{partIndex}}-{{colIndex}}-subtotal-sign\" class=\"total sign info\"></span>\r\n                        <input readonly=\"true\" id=\"list-field-{{playerIndex}}-{{partIndex}}-{{colIndex}}-bonus\" value=\"0\">\r\n                    </div>  \r\n                </div>\r\n            </div>\r\n            <div class=\"row total\">\r\n                <div class=\"col description\">\r\n                    Totaal {{part.name}}\r\n                </div>\r\n                <div *ngFor=\"let in of makeArray(game.numberOfGameLists); let colIndex = index \" class=\"col\">\r\n                    <input readonly=\"true\" id=\"list-field-{{playerIndex}}-{{partIndex}}-{{colIndex}}-total\" value=\"0\">\r\n                </div>  \r\n            </div>\r\n        </div>\r\n        <div class=\"row total-general\" [ngClass]=\"{'dice-board-margin' : isShowDiceBoard }\">\r\n            <div class=\"col description total total-general\">\r\n                TOTAAL <button class=\"btn btn-transparent\" (click)=\"showPopupEndGame(true)\">\r\n                    <fa-icon [icon]=\"faList\"></fa-icon>\r\n                </button>\r\n            </div>\r\n            <div *ngFor=\"let in of makeArray(game.numberOfGameLists); let colIndex = index \" class=\"col\">\r\n                <input readonly=\"true\" id=\"list-field-{{playerIndex}}-{{colIndex}}-totalgeneral\" value=\"0\">\r\n            </div>  \r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Popup game totals  -->\r\n<div #popupEndGame id=\"end-game-popup\" class=\"popup hide\" >\r\n    <h4 id=\"title-end-game\">Spel afgelopen</h4>\r\n    <div>\r\n        <div class=\"row endgame endgame-header\">\r\n            <div class=\"col description\">\r\n                Speler\r\n            </div>\r\n            <div class=\"col endgame-width\" *ngFor=\"let col of makeArray(game.numberOfGameLists); let colIndex = index\">Rij {{colIndex+1}}</div> \r\n            <div *ngIf=\"this.game.numberOfGameLists > 1\" class=\"col endgame-width\">Tot.</div>\r\n        </div>\r\n        <div class=\"row endgame\" *ngFor=\"let player of this.game.players; let playerIndex = index\">\r\n            <div class=\"col description\">\r\n                <span class=\"player-colors-endgame\" [style]=\"'background-color:' + player.color\">&nbsp;</span>\r\n                {{player.name}}\r\n            </div>\r\n            <div class=\"col endgame-width\" *ngFor=\"let col of makeArray(game.numberOfGameLists); let colIndex = index\">\r\n                <input class=\"endgame\" readonly=\"true\" id=\"list-field-{{colIndex}}-{{playerIndex}}-totalgeneral-end\" [value]=\"setPopupRowTotal(playerIndex, colIndex)\">\r\n            </div>\r\n            <div class=\"col endgame-width\" *ngIf=\"game.numberOfGameLists > 1\">\r\n                <input class=\"endgame total bold\" readonly=\"true\" id=\"{{playerIndex}}-overall-total\" [value]=\"setTotalofCols(playerIndex)\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row action-buttons\">\r\n        <button id=\"btn-end-game\" class=\"btn btn-primary\" (click)=\"stopSaveGame()\">Nieuw spel</button>\r\n        <button class=\"btn btn-secondary\" (click)=\"hidePopUp()\">Sluiten</button>\r\n    </div>\r\n</div>\r\n\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","export interface Game {\r\n    dateTime: Date;\r\n    players: Player[];\r\n    gameList: List;\r\n    numberOfGameLists: number;\r\n    selectedPlayerIndex?: number;\r\n    showDiceBoard?: boolean;\r\n    diceSettings?: DiceSettings;\r\n}\r\n\r\nexport interface GamePlayer {\r\n    player: Player\r\n}\r\n\r\nexport interface GamePlayerColumn {\r\n    player: Player;\r\n    columns?: ColumnScore[];\r\n    totalScore?: Number;\r\n}\r\n\r\nexport interface ColumnScore {\r\n    column: number;\r\n    value?: number;\r\n    suggestionScore?: number;\r\n}\r\n\r\nexport interface Player {\r\n    name: string;\r\n    color?: string;\r\n    currentRound?: number;\r\n}\r\n\r\nexport interface List {\r\n    name: string;\r\n    listParts: ListPart[];\r\n    numberOfDices: number;\r\n}\r\n\r\nexport interface ListPart {\r\n    name: string;\r\n    listItems?: ListItem[];\r\n    hasBonusPoints?: boolean;\r\n    bonusTarget?: number;\r\n    bonus?: number\r\n    bonusValue?: number;\r\n}\r\n\r\nexport interface ListItem {\r\n    name: string;\r\n    value?: number;\r\n    calculationType?: CalculationType;\r\n    fixedPoints?: number[];\r\n    playerscores?: GamePlayerColumn[];\r\n    validation?: ItemValidation;\r\n    cssClasses?: string;\r\n    info?: string;\r\n}\r\n\r\nexport interface ItemValidation {\r\n    numberOfSameDices?: number[];  // two numbers is for full house or 2 pair (i.e. [2,3] or [2,2])\r\n    sameNumbersExactSame?: boolean; // for 1 pair, 2 pair\r\n    possibleCombinations?: string[]; // ie. small street yathzee [\"1,2,3,4\", \"2,3,4,5\", \"3,4,5,6\" ] \r\n    countAllDices?: boolean; // default no\r\n    fixedScore?: boolean;\r\n}\r\n\r\n\r\nexport interface SavedGame {\r\n    fileName: string;\r\n    name: string;\r\n    date?: Date;\r\n    dateString: string;\r\n    players?: string;\r\n}\r\n\r\nexport interface DiceSettings {\r\n    currentThrow: number;\r\n    holdDices: number[];\r\n    thrownDices: number[];\r\n    totalDices: number[];\r\n    restDices: number[];\r\n    newStart: boolean;\r\n}\r\n\r\nexport interface DicesSameValues {\r\n    diceValue: number;\r\n    numberOfTimes: number;\r\n}\r\n\r\n\r\nexport interface Translation {\r\n    key: string;\r\n    value: string;\r\n}\r\n\r\nexport enum CalculationType {\r\n    numberOfEyes = 1,\r\n    fixedNumber = 2,\r\n}\r\n","import { ItemValidation, ListItem } from './interfaces';\r\n\r\nexport function makeArray(i: number): number[] {\r\n    return new Array(i);\r\n}\r\n\r\nexport function scoreSameValues(selectedDices: number[], itemValidation: ItemValidation, item: ListItem, fixedPoints?: number[]): number {\r\n\r\n    let dices = [1,2,3,4,5,6]\r\n    let score = 0;\r\n    let numberValid = [];\r\n    let valid = true;\r\n    selectedDices = orderBy(selectedDices);\r\n    const uniqueNumbers = itemValidation.numberOfSameDices.filter((item, i, ar) => ar.indexOf(item) === i).length;\r\n\r\n    if (itemValidation.numberOfSameDices) {\r\n\r\n        let numberIndex = 0;\r\n        while (numberIndex < itemValidation.numberOfSameDices.length) {\r\n            let numberValidSet = false;\r\n\r\n            if (valid) {\r\n                const number = itemValidation.numberOfSameDices[numberIndex];\r\n\r\n                for  (const dice of dices) {       \r\n                    const diceCount = selectedDices.filter((sd) => sd == dice).length;\r\n\r\n                    if (diceCount >= number) {\r\n                        const scoreTemp = dice * number;\r\n                        \r\n                        if (numberValidSet == false) {\r\n                            numberValid.push({sameValues: diceCount, required: number, valid: true, score: scoreTemp});\r\n                            numberValidSet = true;\r\n                        } else {\r\n                            numberValid[numberIndex]  = {sameValues: diceCount, required: number, valid: true, score: scoreTemp};\r\n                        }\r\n\r\n                        dices = dices.filter(d => d !== dice);\r\n                        \r\n                        if (uniqueNumbers == 1) {\r\n                            dices = setDicesTill(dice);\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n            if (numberValid.length == 0) {\r\n                valid = false;\r\n            }\r\n            numberIndex ++;\r\n        };\r\n\r\n        const numberValidItems = numberValid.filter(nv => nv.sameValues >= itemValidation.numberOfSameDices.length);\r\n        if (numberValidItems.length >= itemValidation.numberOfSameDices.length) {\r\n            numberValidItems.forEach((item) => {\r\n                score += item.score;\r\n            });\r\n        }\r\n    }\r\n\r\n    if (score > 0 && itemValidation.countAllDices) {\r\n        score = sumOfNumberedArray(selectedDices)\r\n    } else if (score > 0 && itemValidation?.fixedScore) {\r\n        score = fixedPoints[0];\r\n    }\r\n    return score;\r\n}\r\n\r\n\r\nexport function setDicesTill(dice): number[] {\r\n    let item = 1;\r\n    let dices = [];\r\n    while (item < dice) {\r\n        dices.push(item);\r\n        item++;\r\n    }\r\n    return dices;\r\n}\r\n\r\nexport function orderBy(array: any[], sortOrder?: string, property?: string): any[] {  \r\n    const sort = sortOrder?.toLowerCase() == 'desc' ? -1 : 1;\r\n    if (property) {\r\n        return array.sort((a,b) => {\r\n            return a[property] > b[property] ? sort : a[property] < b[property] ? (-1 * sort) : 0;\r\n        })\r\n    } else {\r\n        return array.sort((a,b) => {\r\n            return a > b ? sort : a < b ? (-1 * sort) : 0;\r\n        })\r\n    }\r\n}\r\n\r\nexport function sumOfNumberedArray(array: number[]) {\r\n    return array.reduce((a, b) => {\r\n        return a + b;\r\n    });\r\n}\r\n\r\nexport function setSelectedLanguage(lang: string): JSON {\r\n     return this.httpClient.get(\"assets/lang/\" + lang + \".json\").subscribe((data: JSON) =>{\r\n        return this.storage.saveSelectedLanguage(data);\r\n    })\r\n  }\r\n\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport {DiceSettings, Game, List, Player, SavedGame, Translation} from './interfaces';\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { LocalStorageService } from './storage.service';\r\nimport * as globalFunctions from './functions';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit   {\r\n\r\n  constructor(private httpClient: HttpClient, private storage: LocalStorageService){}\r\n\r\n  @ViewChild('popup') popupAddPlayer: HTMLElement;\r\n\r\n  game: Game;\r\n  savedGame: Game = null;\r\n  savedGames: SavedGame[];\r\n  list: List;\r\n  players: Player[] = [];\r\n  availableColors: string[];\r\n  selectedColor: string;\r\n  diceScores: DiceSettings;\r\n  translations: JSON;\r\n\r\n  selectedNumberOfLists = 1;\r\n\r\n  showDiceBoard = false;\r\n  resetDiceBoard = false;\r\n  undoDiceBoard: boolean;\r\n  isGameStarted = false;\r\n\r\n  title = 'Dobbel score';\r\n  selectedGameType = 'Yahtzee';\r\n  colors = ['#2200e2', '#00a308', '#f3db02', '#e20101', '#f07a0c', '#ca07a0', '#a52a2a'];\r\n  gameTypes = ['Yahtzee','Cassy'];\r\n  defaultGameType = 'Yahtzee';\r\n\r\n  makeArray = globalFunctions.makeArray;\r\n\r\n  setSelectedGameType(gameType: string): void {\r\n    this.selectedGameType = gameType;\r\n    this.storage.saveGameType(gameType);\r\n    this.httpClient.get(\"assets/config/\" + gameType.toLowerCase() + \".json\").subscribe((data: List) => {\r\n      this.list = data;\r\n      this.storage.saveGameList(this.list);\r\n    })\r\n  }\r\n\r\n  addPlayer(player: HTMLInputElement): void {\r\n    if (player.value.length > 0) {\r\n      this.players.push({name: player.value, color: this.selectedColor});\r\n      player.value = \"\";\r\n      this.storage.savePlayers(this.players);\r\n      this.hideAllOptions();\r\n    }\r\n  }\r\n\r\n  showAddPllayer(popup: HTMLElement): void {\r\n    popup.className = \"popup\";\r\n    document.getElementById('overLayer').style.display = 'block';\r\n    this.setAvailableColors();\r\n    this.selectedColor = this.availableColors[0];\r\n  }\r\n\r\n  deletePlayer(index: number): void {\r\n    this.players.splice(index,1);\r\n    this.storage.savePlayers(this.players);\r\n    this.setAvailableColors();\r\n  }\r\n\r\n  movePlayer(index: number): void {\r\n    const playerToMove: Player = this.players.splice(index, 1)[0];\r\n    this.players.splice(index + 1, 0, playerToMove);\r\n    this.storage.savePlayers(this.players);\r\n  }\r\n\r\n  showMoveButton(index: number): boolean {\r\n    return index < this.players.length -1 ? true : false;\r\n  }\r\n\r\n\thideAllOptions(): void {\r\n\t\tvar items = document.getElementsByClassName('popup');\r\n\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\titems[i].className = 'popup hide';\r\n\t\t\tdocument.getElementById('overLayer').style.display = 'none';\r\n\t\t}\r\n\t}\r\n\r\n  setNumberOfLists(value: number): void {\r\n    this.selectedNumberOfLists = value;\r\n    this.storage.saveNumberOfLists(value);\r\n  }\r\n\r\n  killGame(): void {\r\n    this.savedGame = null;\r\n    this.isGameStarted = false;\r\n    this.showDiceBoard = false;\r\n    this.storage.deleteDiceSettings();\r\n    this.loadSavedGames();\r\n  }\r\n\r\n  selectGame(name: string): void {\r\n    this.httpClient.get(\"assets/\" + name + \".json\").subscribe(resultList =>{\r\n\r\n      this.list = resultList as List;\r\n      this.storage.saveGameList(this.list);\r\n    })  \r\n  }\r\n\r\n  toggleDiceBoard(showDiceBoard: boolean): void  {\r\n    this.showDiceBoard = showDiceBoard;\r\n  }\r\n\r\n  setUndoDiceBoard(): void {\r\n    this.undoDiceBoard = !this.undoDiceBoard;\r\n  }\r\n\r\n  setResetDiceBoard(): void {\r\n    this.resetDiceBoard = !this.resetDiceBoard;\r\n  }\r\n\r\n  setColor(color: string): void {\r\n    this.selectedColor = color;\r\n  }\r\n\r\n  startGame(): void{\r\n    this.storage.savePlayers(this.players);\r\n    this.isGameStarted = true;\r\n  }\r\n\r\n  showSavedGames(popup: HTMLElement): void {\r\n    popup.className = \"popup\";\r\n    document.getElementById('overLayer').style.display = 'block';\r\n  }\r\n\r\n  deleteSavedGame(fileName, savedGames) {\r\n    if (confirm('Dit spel verwijderen?')) {\r\n      this.storage.deleteGame(fileName);\r\n      this.loadSavedGames();\r\n\r\n      // if all savedGames are removed. Popup can be closed\r\n      if (savedGames.length == 1) {\r\n        this.hideAllOptions();\r\n      }\r\n    }\r\n  }\r\n\r\n  loadSavedGames(): SavedGame[] {\r\n\r\n    let savedGames: SavedGame[] = [];\r\n\r\n    // get all names of saved games from localstorage.\r\n    const names = Object.keys(localStorage).filter(item => item.includes('saved-game_'));\r\n    \r\n    // loop throught names\r\n    names.forEach((gameName) => {\r\n      \r\n      const name = gameName.replace('saved-game_','');\r\n      const nameParts = name.split('_');\r\n      const dateStrings = nameParts[0];\r\n      const dateStringParts = dateStrings.split(' ');\r\n      const date = new Date(dateStringParts[1] + ' ' + dateStringParts[2] + ' '+ dateStringParts[3] + ' ' + dateStringParts[4]); \r\n      const dateString = date.toLocaleString();\r\n      const players = nameParts[2];\r\n      const gameType = nameParts[1];\r\n      savedGames.push({\r\n        fileName: gameName, \r\n        name: gameType, \r\n        date: date, \r\n        dateString: date.toLocaleString(), \r\n        players: players \r\n      });\r\n    });\r\n    this.savedGames = savedGames;\r\n\r\n    // sort by date desc\r\n    savedGames = savedGames.sort(function (a, b) {\r\n      return a.date > b.date ? -1 : a.date < b.date ? 1 : 0;\r\n    });\r\n    return savedGames;\r\n  }\r\n\r\n  startSavedGame(fileName: string): void {   \r\n      this.savedGame = this.storage.loadGame(fileName);\r\n      this.storage.saveGame(this.savedGame);\r\n      \r\n      if (this.savedGame) {\r\n        this.startGame();\r\n        this.hideAllOptions();\r\n      }\r\n  }\r\n\r\n  setAvailableColors(): void {\r\n    this.availableColors = this.colors;\r\n    this.players.forEach((player) => {\r\n      this.availableColors = this.availableColors.filter(color => !color.includes(player.color));\r\n      this.selectedColor = this.availableColors[0];\r\n    })\r\n  }\r\n\r\n  showDiceScores(event: DiceSettings) {\r\n    this.diceScores = JSON.parse(JSON.stringify(event)); // Hack to let onChanges work\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    // load saved games \r\n    this.loadSavedGames();\r\n\r\n    this.availableColors = this.colors;\r\n    this.selectedColor = this.availableColors[0];\r\n\r\n    // get last players\r\n    this.players = this.storage.loadPlayers() || []; \r\n\r\n    // get Last played gameType\r\n    const gameType = this.storage.loadGameType() || this.defaultGameType;\r\n    this.setSelectedGameType(gameType);\r\n\r\n    // load active game\r\n    this.game = this.storage.loadGame(); \r\n    this.selectedNumberOfLists = this.storage.loadNumberOfLists() || 1; // get latest number of list. Default 1 \r\n    this.storage.saveNumberOfLists(this.selectedNumberOfLists);\r\n\r\n    // translaton\r\n    this.translations = this.storage.loadSelectedLanguage('nl');\r\n\r\n    // check if there is an active game. then start game directly\r\n    if (this.game) {\r\n      this.startGame();\r\n    }\r\n  }\r\n}\r\n","<div id=\"overLayer\" class=\"overLayer hide\" (click)=\"hideAllOptions()\"></div>\r\n\r\n<div class=\"game-board-panel new-game\" *ngIf=\"!isGameStarted\">\r\n    \r\n    <div class=\"new-game-panel\">\r\n        <!-- logo-->\r\n        <div class=\"logo-panel\">\r\n            <img class=\"logo\" src=\"assets/images/logo.svg\" >\r\n        </div>\r\n\r\n        <div class=\"game-options-panel negative-margin\">\r\n            <!-- game mode -->\r\n            <div class=\"row transparent block\">\r\n                <div class=\"col description\">Kies een spel</div>\r\n                <div class=\"col\">\r\n                    <div class=\"item width-auto\" [ngClass]=\"{'active' : gameType == selectedGameType}\" *ngFor=\"let gameType of gameTypes\"\r\n                    (click)=\"setSelectedGameType(gameType)\">{{gameType}}</div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- select number of game rows-->\r\n            <div class=\"row transparent block\">\r\n                <div class=\"col description block\">Aantal rijen</div>\r\n                <div class=\"col block\">\r\n                    <div class=\"item\" [ngClass]=\"{'active' : (index + 1) == selectedNumberOfLists}\" *ngFor=\"let in of makeArray(4); let index = index\"\r\n                    (click)=\"setNumberOfLists(index + 1)\">{{index + 1}}</div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- select Players-->\r\n            <div class=\"row transparent block top\" style=\"padding-bottom:5px;\">\r\n                <div class=\"col description block\">Spelers<br><small style=\"font-weight: normal;\">Max 5</small></div>\r\n                    <!-- add player  when possible-->\r\n                    <div class=\"col width-auto\" *ngIf=\"players?.length < 5\">\r\n                        <button class=\"btn\" (click)=\"showAddPllayer(popup)\">+</button>\r\n                    </div>\r\n                <div class=\"col\">\r\n                    \r\n                    <!-- add player popup-->\r\n                    <div #popup id=\"add-player-popup\" [ngClass]=\"{'show' : players.length == 0}\" class=\"popup hide\">\r\n                        <div *ngIf=\"players?.length < 5\">\r\n                            <h4>Naam speler</h4>\r\n                            <input class=\"player-input\" maxlength=\"8\" [style]=\"'margin-right:5px;padding:5px;width:70%;border-left:solid 5px ' + selectedColor\" #newPlayer type=\"text\"> \r\n                            <button class=\"btn\" (click)=\"addPlayer(newPlayer)\">Opslaan</button>\r\n\r\n                            <div class=\"player-color-panel\" style=\"padding-top:8px;\">\r\n                                <span [ngClass]=\"{'active' : selectedColor == color}\" (click)=\"setColor(color)\" #playerColor *ngFor=\"let color of availableColors\" class=\"color-item\" [style]=\"'background-color:' + color\"></span>\r\n                            </div>\r\n                        </div>    \r\n                    </div>\r\n\r\n                    <!-- show players -->\r\n                    <div class=\"row transparent no-border no-margin\" *ngFor=\"let player of players; let index = index\">\r\n                        <div [id]=\"'player-item-' + index\" class=\"item width-80 item-player no-margin\"  [style]=\"'border-left:solid 8px ' + player.color\">\r\n                            {{player.name}}\r\n                            <button class=\"btn delete\" (click)=\"deletePlayer(index)\">x</button>\r\n                        </div>\r\n                        <div>\r\n                            <button *ngIf=\"showMoveButton(index)\" class=\"btn move\" (click)=\"movePlayer(index)\">></button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            <!-- Start game -->\r\n            <div *ngIf=\"players?.length == 0\" class=\"row center column block no-border\" style=\"margin-top:15px\">\r\n                Voeg eerst 1 of meerdere spelers toe. \r\n            </div>\r\n            <div class=\"row center column block no-border\">\r\n                <button [disabled]=\"players?.length == 0\" class=\"btn-start-game\" (click)=\"startGame('player')\">Start nieuw spel</button>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Saved games-->\r\n        <div class=\"game-options-panel saved-games link\" *ngIf=\"savedGames.length > 0\">\r\n            <div (click)=\"showSavedGames(popupSavedgames)\" class=\"row transparent no-border\">\r\n                Selecteer een opgeslagen spel\r\n            </div>\r\n            <div #popupSavedgames class=\"popup hide\">\r\n                <h4>Opgeslagen spellen</h4>\r\n                <div (click)=\"startSavedGame(savedGame.fileName)\" *ngFor=\"let savedGame of savedGames\" class=\"row link\">\r\n                    <div class=\"col flex\">\r\n                        {{savedGame.dateString}} | {{savedGame.name}}<br>\r\n                        {{savedGame.players}}\r\n                    </div>\r\n                    <div class=\"col width-auto\">\r\n                        <button class=\"btn delete\" (click)=\"deleteSavedGame(savedGame.fileName, savedGames)\">x</button>\r\n                    </div>\r\n                </div>    \r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<!-- Game-panel -->\r\n<div id=\"game-board-lists\" [ngClass]=\"{'diceboard' : showDiceBoard}\" class=\"game-board-panel\" *ngIf=\"isGameStarted\">\r\n    <app-game-board \r\n        [diceScore]=\"diceScores\"\r\n        (restartGame)=\"killGame()\" \r\n        (resetDiceBoard)=\"setResetDiceBoard($event)\" \r\n        (undoDiceBoard)=\"setUndoDiceBoard($event)\" \r\n        (showDiceBoard)=\"toggleDiceBoard($event)\" >\r\n    </app-game-board>\r\n    <app-roll-dice [ngClass]=\"{'hidden' : !showDiceBoard }\" \r\n        [resetDiceBoard]=\"resetDiceBoard\"  \r\n        [undoDiceBoard]=\"undoDiceBoard\"\r\n        (showDiceScores)=\"showDiceScores($event)\"\r\n        class=\"dice-board\">\r\n    </app-roll-dice>\r\n</div>\r\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { GameBoardComponent } from './game-board/game-board.component';\nimport { RollDiceComponent } from './roll-dice/roll-dice.component';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    GameBoardComponent,\n    RollDiceComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    HttpClientModule,\n    FontAwesomeModule\n  ],\n  providers: [HttpClientModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\r\nimport { DiceSettings, Game, List, Player } from './interfaces';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class LocalStorageService {\r\n    constructor() {}\r\n\r\n    activeGame = 'active-game';\r\n    savedGame = 'saved-game';\r\n    gameType = 'gameType';\r\n    gameList = 'gameList';\r\n    numberOfLists = 'numberOfLists';\r\n    diceSettings = 'diceSettings';\r\n    players = 'players';\r\n    langCode = 'lang';\r\n\r\n    // Game\r\n    loadGame(fileName?): Game {\r\n        const name = fileName || this.activeGame;\r\n        return JSON.parse(localStorage.getItem(name));\r\n    }\r\n\r\n    saveGame(game: Game, fileName?: string): void {\r\n        const name = fileName || this.activeGame;\r\n        localStorage.setItem(name, JSON.stringify(game));\r\n    }\r\n\r\n    deleteGame(fileName?: string): void {\r\n        const name = fileName || this.activeGame;\r\n        localStorage.removeItem(name);\r\n    }\r\n\r\n    // Players\r\n    loadPlayers(): Player[] {\r\n        return JSON.parse(localStorage.getItem(this.players));\r\n    }\r\n\r\n    async savePlayers(players: Player[]): Promise<void> {\r\n        localStorage.setItem(this.players, JSON.stringify(players));\r\n    }\r\n\r\n    deleteDiceSettings(fileName?: string): void {\r\n        const name = fileName || this.diceSettings;\r\n        localStorage.removeItem(name);\r\n    }\r\n\r\n    saveDiceSettings(diceSettings: DiceSettings, fileName?: string): void {\r\n        const name = fileName || this.diceSettings;\r\n        localStorage.setItem(name, JSON.stringify(diceSettings));\r\n    }\r\n\r\n    loadDiceSettings(fileName?: string): DiceSettings {\r\n        const name = fileName || this.diceSettings;\r\n        return JSON.parse(localStorage.getItem(name));\r\n    }\r\n\r\n    // GameType\r\n    loadGameType(): string {\r\n        return localStorage.getItem(this.gameType);\r\n    }\r\n\r\n    saveGameType(gameType: string): void {\r\n        localStorage.setItem(this.gameType, gameType);\r\n    }\r\n\r\n    loadGameList(): List {\r\n        return JSON.parse(localStorage.getItem(this.gameList));\r\n    }\r\n\r\n    saveGameList(list: List): void {\r\n        localStorage.setItem(this.gameList, JSON.stringify(list));\r\n    }\r\n\r\n    // NumberOfLists\r\n    loadNumberOfLists(): number {\r\n        return +localStorage.getItem(this.numberOfLists);\r\n    }\r\n        \r\n\tsaveNumberOfLists(value: number): void {\r\n\t\tlocalStorage.setItem(this.numberOfLists, value.toString());\r\n    }\r\n\r\n    // Languages\r\n    loadSelectedLanguage(lang: string): JSON {\r\n        return JSON.parse(localStorage.getItem(lang));\r\n    }\r\n\r\n    saveSelectedLanguage(lang: JSON): void {\r\n        localStorage.setItem(this.langCode, JSON.stringify(lang));\r\n    }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { faUser, faPlay } from '@fortawesome/free-solid-svg-icons';\r\nimport { DiceSettings } from '../interfaces';\r\nimport { LocalStorageService } from './../storage.service';\r\nimport * as globalFunctions from './../functions';\r\n\r\n@Component({\r\n\tselector: 'app-roll-dice',\r\n\ttemplateUrl: './roll-dice.component.html',\r\n\tstyleUrls: [ './roll-dice.component.scss' ]\r\n})\r\nexport class RollDiceComponent implements OnInit, OnChanges {\r\n\t@Input() resetDiceBoard: boolean;\r\n\t@Input() undoDiceBoard: boolean;\r\n\t@Output() showDiceScores = new EventEmitter<DiceSettings>();\r\n\r\n\tconstructor(private storage: LocalStorageService) {}\r\n\r\n\ttotalThrows = 3;\r\n\tnumberOfDices = 5;\r\n\tdiceSettings: DiceSettings;\r\n\tthrowTime: boolean = false;\r\n\tfaUser = faUser;\r\n\tfaThrow = faPlay;\r\n\r\n\ttranslations: JSON;\r\n\r\n\tasync roll(currentThrow) {\r\n\t\tthis.throwTime = true;\r\n\t\tawait this.rollTheDices();\r\n\r\n\t\tif (this.diceSettings.newStart) {\r\n\t\t\tthis.resetDiceSets();\r\n\t\t\tthis.diceSettings.newStart = false;\r\n\t\t\tvar diceCount = 1;\r\n\t\t\twhile (diceCount <= this.numberOfDices) {\r\n\t\t\t\tconst diceValue = Math.floor(Math.random() * 6) + 1;\r\n\t\t\t\tthis.diceSettings.thrownDices[diceCount - 1] = diceValue;\r\n\t\t\t\tthis.diceSettings.restDices[diceCount - 1] = diceValue;\r\n\t\t\t\tdiceCount++;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet count = 0;\r\n\t\t\tthis.diceSettings.restDices.forEach((dice) => {\r\n\t\t\t\tif (dice) {\r\n\t\t\t\t\tconst diceValue = Math.floor(Math.random() * 6) + 1;\r\n\t\t\t\t\tthis.diceSettings.thrownDices[count] = diceValue;\r\n\t\t\t\t}\r\n\t\t\t\tcount++;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.diceSettings.currentThrow++;\r\n\t\tthis.throwTime = false;\r\n\r\n\t\tif (currentThrow == this.totalThrows) {\r\n\t\t\tthis.diceSettings.newStart = true;\r\n\t\t}\r\n\r\n\t\tthis.storage.saveDiceSettings(this.diceSettings);\r\n\t\tthis.showDiceScores.emit(this.diceSettings);\r\n\t}\r\n\r\n\tasync wait(seconds) {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tsetTimeout(resolve, seconds * 1000);\r\n\t\t});\r\n\t}\r\n\r\n\tasync rollTheDices() {\r\n\t\tfor (let randomDice = 1; randomDice <= 8; randomDice++) {\r\n\t\t\tawait this.wait(0.07);\r\n\t\t\tfor (let diceCount = 1; diceCount <= this.numberOfDices; diceCount++) {\r\n\t\t\t\tconst diceValue = Math.floor(Math.random() * 6) + 1;\r\n\t\t\t\tthis.diceSettings.thrownDices[diceCount - 1] = diceValue;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tresetRoll() {\r\n\t\tthis.resetDiceSets();\r\n\t\tthis.diceSettings.newStart = true;\r\n\t\tthis.storage.saveDiceSettings(this.diceSettings);\r\n\t}\r\n\r\n\tresetDiceSets() {\r\n\t\tthis.diceSettings.currentThrow = 1;\r\n\t\tthis.diceSettings.holdDices = this.resetDiceArray();\r\n\t\tthis.diceSettings.thrownDices = this.resetDiceArray();\r\n\t\tthis.diceSettings.restDices = this.resetDiceArray();\r\n\t}\r\n\r\n\tresetDiceArray() {\r\n\t\tlet array = [];\r\n\t\tfor (let index = 1; index <= this.numberOfDices; index++) {\r\n\t\t\tarray.push(null);\r\n\t\t}\r\n\t\treturn array;\r\n\t}\r\n\r\n\treleaseDice(diceIndex, diceValue) {\r\n\t\tthis.diceSettings.thrownDices[diceIndex] = diceValue;\r\n\t\tthis.diceSettings.holdDices[diceIndex] = null;\r\n\t\tthis.storage.saveDiceSettings(this.diceSettings);\r\n\t}\r\n\r\n\tholdDice(diceIndex: number, diceValue: number): void {\r\n\t\tthis.diceSettings.holdDices[diceIndex] = diceValue;\r\n\t\tthis.diceSettings.thrownDices[diceIndex] = null;\r\n\t\tthis.storage.saveDiceSettings(this.diceSettings);\r\n\t}\r\n\r\n\tmakeArray(i: number): number[] {\r\n\t\treturn new Array(i);\r\n\t}\r\n\r\n\tupdateLocalStoreDices(): void {\r\n\t\tconst diceSettings: DiceSettings = {\r\n\t\t\tcurrentThrow: this.diceSettings.currentThrow,\r\n\t\t\tholdDices: this.diceSettings.holdDices,\r\n\t\t\tthrownDices: this.diceSettings.thrownDices,\r\n\t\t\ttotalDices: this.diceSettings.totalDices,\r\n\t\t\trestDices: this.diceSettings.restDices,\r\n\t\t\tnewStart: this.diceSettings.newStart\r\n\t\t};\r\n\t\tthis.storage.saveDiceSettings(diceSettings);\r\n\t}\r\n\r\n\tundoDiceSettings() {\r\n    this.diceSettings = this.storage.loadDiceSettings('diceSettingsPrevious');\r\n    this.showDiceScores.emit(this.diceSettings);\r\n    localStorage.removeItem('diceSettingsPrevious');\r\n    localStorage.removeItem('gamePrevious');\r\n\t}\r\n\r\n\tstartDiceSettings() {\r\n\t\tthis.diceSettings = {\r\n\t\t\tcurrentThrow: 1,\r\n\t\t\tnewStart: false,\r\n\t\t\ttotalDices: [],\r\n\t\t\tholdDices: [],\r\n\t\t\trestDices: [],\r\n\t\t\tthrownDices: []\r\n\t\t};\r\n\t\tfor (let index = 1; index <= this.numberOfDices; index++) {\r\n\t\t\tthis.diceSettings.totalDices.push(index);\r\n\t\t}\r\n\r\n\t\tthis.storage.saveDiceSettings(this.diceSettings);\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.diceSettings = this.storage.loadDiceSettings();\r\n\t\tthis.translations = this.storage.loadSelectedLanguage('nl');\r\n\t\tif (!this.diceSettings) {\r\n\t\t\tthis.startDiceSettings();\r\n\t\t}\r\n\t}\r\n\r\n\tngOnChanges(changes: SimpleChanges): void {\r\n\t\tif (changes.undoDiceBoard && !changes.undoDiceBoard.isFirstChange()) {\r\n        this.undoDiceSettings();  \r\n    }\r\n\t\tif (changes.resetDiceBoard) {\r\n\t\t\tthis.startDiceSettings();\r\n\t\t}\r\n\r\n\t}\r\n}\r\n","<div class=\"throw-indicator-panel\">\n    <span class=\"throw-indicator\" [ngClass]=\"{'active' : (diceSettings.currentThrow - 1) >= (throwIndex + 1)}\" \n        *ngFor=\"let in of makeArray(totalThrows); let throwIndex = index\">\n    </span>    \n</div>\n<div class=\"row\">\n\n    <div class=\"col flex\">\n        <button class=\"btn\" style=\"width:50px;text-align: center;\" [disabled]=\"(diceSettings.currentThrow > totalThrows) || throwTime\" (click)=\"roll(diceSettings.currentThrow)\">\n            <fa-icon [icon]=\"faThrow\"></fa-icon>\n        </button>\n    </div>\n    <div class=\"col\">\n        <span *ngFor=\"let diceValue of diceSettings.totalDices; let diceIndex = index;\" class=\"dice dice-placeholder\">\n            <span *ngIf=\"diceSettings.thrownDices[diceIndex]\" class=\"thrown link\" (click)=\"holdDice(diceIndex, diceSettings.thrownDices[diceIndex])\">\n                <img [src]=\"'assets/images/dices/dice-' + diceSettings.thrownDices[diceIndex]  + '.png'\">\n            </span>\n            <span *ngIf=\"diceSettings.holdDices[diceIndex]\" class=\"hold link\" (click)=\"releaseDice(diceIndex, diceSettings.holdDices[diceIndex])\">\n                <img *ngIf=\"diceSettings.holdDices[diceIndex]\" [src]=\"'assets/images/dices/dice-' + diceSettings.holdDices[diceIndex]  + '.png'\">\n            </span>\n        </span>\n    </div>\n    <div class=\"col flex align-right\">\n        <button [disabled]=\"diceSettings.currentThrow == 1 || throwTime\" class=\"btn btn-secondary\" (click)=\"resetRoll()\">\n            <fa-icon [icon]=\"faUser\"></fa-icon> \n            <fa-icon [icon]=\"faUser\"></fa-icon>\n        </button>\n    </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}